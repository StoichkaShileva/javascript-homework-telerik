/*
 Write a function that finds the youngest male person in a given array of people and prints his full name.
 Use only array methods and no regular loops (for, while).
 Use Array#find.
 */

// array of people generated by the first problem:

var peopleArray = [{
    firstname: 'Ivan',
    lastname: 'Ivanov',
    age: 34,
    isFemale: false
},
    {
        firstname: 'Maya',
        lastname: 'Stoyanova',
        age: 46,
        isFemale: true
    },
    {
        firstname: 'Peter',
        lastname: 'Petrov',
        age: 17,
        isFemale: false
    },
    {firstname: 'John', lastname: 'Brown', age: 39, isFemale: false},
    {
        firstname: 'Raya',
        lastname: 'Emilova',
        age: 16,
        isFemale: true
    },
    {
        firstname: 'Emilia',
        lastname: 'Zravkova',
        age: 30,
        isFemale: true
    },
    {
        firstname: 'Ana',
        lastname: 'Angelova',
        age: 24,
        isFemale: true
    },
    {
        firstname: 'Angel',
        lastname: 'Pashunov',
        age: 27,
        isFemale: false
    },
    {
        firstname: 'Ivaylo',
        lastname: 'Iliev',
        age: 33,
        isFemale: false
    },
    {
        firstname: 'Maria',
        lastname: 'Slavkova',
        age: 22,
        isFemale: true
    }];

var fullname,
    min = +Infinity,
    males,
    youngestMale;

// Chaining:
// 1. using "filter" to create an array of males only,
// 2. using "forEach" to find the youngest male in "males" and print his full name:
males = peopleArray.filter(function (person) {
    return person.isFemale === false
})
    .forEach(function (boy) {
    if(boy.age < min){
        min = boy.age;
    }
    if(boy.age === min){
        fullname = boy.firstname + ' ' + boy.lastname;
    }
});
console.log('The youngest boy is', fullname);

console.log('-------------------');

// polyfill for find:
if (!Array.prototype.find) {
    Array.prototype.find = function (callback) {
        var i,
            len;
        for (i = 0, len = this.length; i < len; i += 1) {
            if (callback(this[i], i, this)) {
                return this[i];
            }
        }
        return undefined;
    }
}
// using "find" to search for the youngest male in peopleArray:
youngestMale = peopleArray.find(function(boy){
    if(boy.age === min){
        return boy;
    }
});

console.log(youngestMale);